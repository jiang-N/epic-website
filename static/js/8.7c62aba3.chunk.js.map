{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Component","observer","HistoryStore","useStores","useEffect","console","log","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","src","attributes","url","alt","filename","href","id","tip","History","List"],"mappings":"6LAOMA,EAAMC,IAAOC,IAAV,kHA+CMC,EAxCGC,aAAS,WAAO,IACzBC,EAAgBC,cAAhBD,aAeP,OATAE,qBAAU,WAGR,OAFAC,QAAQC,IAAI,4BAEL,WACLD,QAAQC,IAAI,gBACZJ,EAAaK,WAEd,CAACL,IAGF,cAAC,IAAD,CAAgBM,aAAa,EAAMC,UAAW,EAAGC,SAdlC,WACfR,EAAaS,QAcGC,SAAUV,EAAaW,WAAaX,EAAaU,QAASE,WAAW,EADrF,SAEE,cAAC,IAAD,CAAMC,WAAYb,EAAac,KACzBC,WAAY,SAAAC,GAAI,OACd,eAAC,IAAKC,KAAN,WACE,8BACE,cAACtB,EAAD,CAAKuB,IAAKF,EAAKG,WAAWC,IAAID,WAAWC,IAAKC,IAAI,yBAEpD,8BACE,6BAAKL,EAAKG,WAAWG,aAEvB,8BACE,mBAAGC,KAAMP,EAAKG,WAAWC,IAAID,WAAWC,IAAxC,0CARYJ,EAAKQ,KAF7B,SAeGxB,EAAaW,WAAaX,EAAaU,SAAW,8BAAK,cAAC,IAAD,CAAMe,IAAI,gCCpC3DC,UATf,WACE,OACE,qCACE,yCACA,cAACC,EAAD","file":"static/js/8.7c62aba3.chunk.js","sourcesContent":["import React, {useEffect} from 'react'\r\nimport {observer} from 'mobx-react'\r\nimport {useStores} from '../stores'\r\nimport InfiniteScroll from 'react-infinite-scroller'\r\nimport {List, Spin} from 'antd'\r\nimport styled from 'styled-components'\r\n\r\nconst Img = styled.img`\r\n  width: 100px;\r\n  height: 120px;\r\n  object-fit: contain;\r\n  border: 1px solid #eee;\r\n`\r\n\r\nconst Component = observer(() => {\r\n  const {HistoryStore} = useStores()\r\n\r\n  const loadMore = () => {\r\n    HistoryStore.find()\r\n  }\r\n\r\n  useEffect(() => {\r\n    console.log('进入组件')\r\n\r\n    return () => {\r\n      console.log('卸载')\r\n      HistoryStore.reset()\r\n    }\r\n  }, [HistoryStore])\r\n\r\n  return (\r\n    <InfiniteScroll initialLoad={true} pageStart={0} loadMore={loadMore}\r\n                    hasMore={!HistoryStore.isLoading && HistoryStore.hasMore} useWindow={true}>\r\n      <List dataSource={HistoryStore.list}\r\n            renderItem={item => (\r\n              <List.Item key={item.id}>\r\n                <div>\r\n                  <Img src={item.attributes.url.attributes.url} alt=\"预览图\"/>\r\n                </div>\r\n                <div>\r\n                  <h5>{item.attributes.filename}</h5>\r\n                </div>\r\n                <div>\r\n                  <a href={item.attributes.url.attributes.url}>预览链接</a>\r\n                </div>\r\n              </List.Item>\r\n            )}\r\n      >\r\n        {HistoryStore.isLoading && HistoryStore.hasMore && <div><Spin tip='加载中'/></div>}\r\n      </List>\r\n    </InfiniteScroll>\r\n  )\r\n})\r\n\r\nexport default Component","import React from 'react'\r\nimport List from '../components/List'\r\n\r\nfunction History() {\r\n  return (\r\n    <>\r\n      <h1>History</h1>\r\n      <List/>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default History"],"sourceRoot":""}