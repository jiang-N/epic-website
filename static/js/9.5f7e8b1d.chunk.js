(this.webpackJsonpepic=this.webpackJsonpepic||[]).push([[9],{250:function(e,t,r){"use strict";r.r(t);var n,c,i,l=r(0),s=r(78),a=r(128),d=r(31),j=r(75),h=r(18),b=r(246),u=r(94),o=r(151),g=r(251),p=r(32),x=r(6),O=b.a.Dragger,f=p.a.div(n||(n=Object(d.a)(["\n  margin-top: 30px;\n  border: 1px dashed #ccc;\n  padding: 20px;\n\n  & > h1 {\n    margin: 20px 0;\n    text-align: center;\n  }\n\n  & > img {\n    max-width: 300px;\n  }\n\n  & > dl > dt {\n    margin-top: 15px;\n  }\n"]))),m=p.a.input(c||(c=Object(d.a)(["\n  border: 1px solid #ccc;\n"]))),v=Object(s.a)((function(){var e=Object(j.a)(),t=e.ImageStore,r=e.UserStore,n=Object(l.useRef)(),c=Object(l.useRef)(),i=Object(h.d)((function(){return{width:null,setWidth:function(e){i.width=e},get widthStr(){return i.width?"/w/".concat(i.width):""},height:null,setHeight:function(e){i.height=e},get heightStr(){return i.height?"/h/".concat(i.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+i.widthStr+i.heightStr}}})),s={showUploadList:!1,beforeUpload:function(e){return t.setFile(e),t.setFilename(e.name),null===r.currentUser?(u.b.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20"),!1):/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/.test(e.type)?e.size>1048576?(u.b.error("\u56fe\u7247\u5927\u4e8e1M"),!1):(t.upload().then((function(){console.log("\u4e0a\u4f20\u6210\u529f")})).catch((function(){console.log("\u4e0a\u4f20\u5931\u8d25")})),!1):(u.b.error("\u53ea\u80fd\u4e0a\u4f20svg/png/jpg/gif\u683c\u5f0f\u7684\u56fe\u7247"),!1)}};return Object(x.jsxs)("div",{children:[Object(x.jsx)(o.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:t.isUploading,children:Object(x.jsxs)(O,Object(a.a)(Object(a.a)({},s),{},{children:[Object(x.jsx)("p",{className:"ant-upload-drag-icon",children:Object(x.jsx)(g.a,{})}),Object(x.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"}),Object(x.jsx)("p",{className:"ant-upload-hint",children:"\u4ec5\u652f\u6301.png/.gif/.jpg/.svg\u683c\u5f0f\u7684\u56fe\u7247\uff0c\u56fe\u7247\u6700\u59271M"})]}))}),t.serverFile?Object(x.jsxs)(f,{children:[Object(x.jsx)("h1",{children:"\u4e0a\u4f20\u7ed3\u679c"}),Object(x.jsxs)("dl",{children:[Object(x.jsx)("dt",{children:"\u56fe\u7247\u5730\u5740"}),Object(x.jsx)("dd",{children:Object(x.jsx)("a",{href:t.serverFile.attributes.url.attributes.url,target:"_blank",rel:"noreferrer",children:t.serverFile.attributes.url.attributes.url})}),Object(x.jsx)("dt",{children:"\u6587\u4ef6\u540d"}),Object(x.jsx)("dd",{children:t.filename}),Object(x.jsx)("dt",{children:"\u56fe\u7247\u9884\u89c8"}),Object(x.jsx)("dd",{children:Object(x.jsx)("img",{src:t.serverFile.attributes.url.attributes.url,alt:"\u9884\u89c8\u56fe"})}),Object(x.jsx)("dt",{children:"\u81ea\u5b9a\u4e49\u5c3a\u5bf8"}),Object(x.jsxs)("dd",{children:[Object(x.jsx)(m,{type:"text",placeholder:"\u5bbd\u5ea6",onChange:function(){i.setWidth(n.current.value)},ref:n}),Object(x.jsx)(m,{type:"text",placeholder:"\u9ad8\u5ea6",onChange:function(){i.setHeight(c.current.value)},ref:c})]}),Object(x.jsx)("dd",{children:Object(x.jsx)("a",{href:i.fullStr,target:"_blank",rel:"noreferrer",children:i.fullStr})})]})]}):null]})})),w=p.a.div(i||(i=Object(d.a)(["\n  background: orange;\n  padding: 10px;\n  margin: 30px 0;\n  color: #fff;\n  border-radius: 4px;\n"]))),S=Object(s.a)((function(e){var t=e.children,r=Object(j.a)().UserStore;return Object(x.jsx)(x.Fragment,{children:r.currentUser?null:Object(x.jsx)(w,{children:t})})})),F=Object(s.a)((function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(S,{children:"\u8bf7\u5148\u767b\u5f55\u5728\u4e0a\u4f20"}),Object(x.jsx)(v,{})]})}));t.default=F}}]);
//# sourceMappingURL=9.5f7e8b1d.chunk.js.map